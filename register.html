<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>UnityPass Registration</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>UnityPass Registration</h1>
    <p>One Skill, One Identity</p>
  </header>

  <main>
    <form id="registrationForm">
      <input type="text" id="name" placeholder="Full Name" required><br><br>
      <input type="text" id="skill" placeholder="Skill" required><br><br>
      <input type="text" id="phone" placeholder="Phone Number" required><br><br>
      <input type="text" id="location" placeholder="Location" required><br><br>
      <button type="submit">Register</button>
    </form>
    <p id="message"></p>
  </main>

  <script>
    const form = document.getElementById('registrationForm');
    const message = document.getElementById('message');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const worker = {
        Name: document.getElementById('name').value.trim(),
        Skill: document.getElementById('skill').value.trim(),
        Phone: document.getElementById('phone').value.trim(),
        Location: document.getElementById('location').value.trim()
      };

      try {
        // Send data to SheetBest API
        const res = await fetch('https://api.sheetbest.com/sheets/6370568b-e4ec-43f3-b14d-13875e2b5bfe', {
          method: 'POST',
          headers: {'Content-Type': 'application/json'},
          body: JSON.stringify(worker)
        });

        if (res.ok) {
          message.style.color = 'green';
          message.textContent = 'Worker registered successfully! ✅';
          form.reset();
        } else {
          message.style.color = 'red';
          message.textContent = 'Error registering worker. ❌';
        }
      } catch(err) {
        console.error(err);
        message.style.color = 'red';
        message.textContent = 'Network error. ❌';
      }
    });
  </script>
</body>
</html>